(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74f07393"],{4937:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"add_time",label:"日期",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"小区名称",width:"180"}}),a("el-table-column",{attrs:{label:"小区图片"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"right",width:"400",trigger:"hover"}},[a("el-image",{attrs:{src:e.row.img_url,fit:"contain","preview-src-list":[e.row.img_url]}}),a("el-button",{attrs:{slot:"reference"},slot:"reference"},[t._v("预览图片")])],1)]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("通过")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("拒绝")])]}}])})],1)],1),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)])},r=[],o=a("1da1"),i=a("5530"),s=(a("a9e3"),a("96cf"),a("2f62")),c=a("bc3a"),l=a.n(c),u={name:"Dashboard",computed:Object(i["a"])({},Object(s["b"])(["name"])),mounted:function(){this.getMapsAudit()},data:function(){return{page:1,total:0,tableData:[]}},methods:{open:function(t,e,a){var n=this;this.$confirm(t,e,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a&&a()})).catch((function(){n.$message({type:"info",message:"已取消操作"})}))},dialogTrue:function(t,e){var a=this;this.open("此操作将通过此资源, 是否继续?","通过",(function(){a.audit(!0,t,(function(){a.$message({type:"success",message:"通过成功!"})}),e)}))},dialogFalse:function(t,e){var a=this;this.open("此操作将不通过此资源, 是否继续?","拒绝",(function(){a.audit(!1,t,(function(){a.$message({type:"warning",message:"否决成功!"})}),e)}))},audit:function(t,e,a,n){var r=this;return Object(o["a"])(regeneratorRuntime.mark((function o(){var i,s,c,u;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return i=!0,s={pass_the_audit:t,is_audit:i,id:e},c="https://2ba642c3-1f4e-4110-8e1a-3ce7f2909375.bspapp.com/knight/map/auditMap",console.log(s),o.prev=4,o.next=7,l.a.post(c,s);case 7:u=o.sent,console.log(u),a&&a(),r.$delete(r.tableData,n),o.next=16;break;case 13:o.prev=13,o.t0=o["catch"](4),console.log(o.t0);case 16:case"end":return o.stop()}}),o,null,[[4,13]])})))()},handleEdit:function(t,e){console.log(t,e),this.dialogTrue(e._id,t)},handleDelete:function(t,e){console.log(t,e),this.dialogFalse(e._id,t)},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.page=Number(t),console.log(this.page),this.getMapsAudit()},getMapsAudit:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,r,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="https://2ba642c3-1f4e-4110-8e1a-3ce7f2909375.bspapp.com/knight/map/getMapsAdmin",n=t.page,r={page:n},console.log(n),e.prev=4,e.next=7,l.a.post(a,r);case 7:o=e.sent,i=JSON.parse(o.data),console.log(i),0==i.res.data.length||(t.tableData=i.res.data),0==i.count.total||(t.total=i.count.total),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](4),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})))()}}},p=u,d=(a("77e1"),a("2877")),f=Object(d["a"])(p,n,r,!1,null,"b2f5dd28",null);e["default"]=f.exports},"77e1":function(t,e,a){"use strict";a("dcbc")},a9e3:function(t,e,a){"use strict";var n=a("83ab"),r=a("da84"),o=a("94ca"),i=a("6eeb"),s=a("5135"),c=a("c6b6"),l=a("7156"),u=a("c04e"),p=a("d039"),d=a("7c73"),f=a("241c").f,g=a("06cf").f,h=a("9bf2").f,b=a("58a8").trim,m="Number",v=r[m],w=v.prototype,_=c(d(w))==m,N=function(t){var e,a,n,r,o,i,s,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=b(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(o=l.slice(2),i=o.length,s=0;s<i;s++)if(c=o.charCodeAt(s),c<48||c>r)return NaN;return parseInt(o,n)}return+l};if(o(m,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var I,k=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof k&&(_?p((function(){w.valueOf.call(a)})):c(a)!=m)?l(new v(N(e)),a,k):N(e)},A=n?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;A.length>E;E++)s(v,I=A[E])&&!s(k,I)&&h(k,I,g(v,I));k.prototype=w,w.constructor=k,i(r,m,k)}},dcbc:function(t,e,a){}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6da9e279"],{"9dd4":function(t,e,a){},ba2a:function(t,e,a){"use strict";a("9dd4")},cb42:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("el-container",[a("el-aside",{attrs:{width:"215px"}},[a("div",[t._v("功能列表")]),t._l(t.items,(function(e,n){return a("el-link",{key:n,class:t.num==n?"act":"",attrs:{underline:!1},nativeOn:{click:function(e){return t.skip(n)}}},[t._v(" "+t._s(e.tit)+" "+t._s(e.tips[1].split(":")[1])+" ")])}))],2),a("el-main",{attrs:{id:"test"}},[a("div",{staticClass:"test"},t._l(t.items,(function(e,n){return a("div",{key:n,staticClass:"item",attrs:{id:n}},[a("h2",[t._v(" "+t._s(e.tit))]),a("div",{staticClass:"tip"},t._l(e.tips,(function(e,n){return a("span",{key:n},[t._v(t._s(e))])})),0),a("p",[t._v("请求参数")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"参数名",width:"180"}}),a("el-table-column",{attrs:{prop:"type",label:"参数类型",width:"180"}}),a("el-table-column",{attrs:{prop:"state",label:"中文说明"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1),a("h3",[t._v("发送请求")]),a("div",[t._l(e.test,(function(e,n){return a("el-input",{key:n,attrs:{placeholder:e.place},model:{value:e.input,callback:function(a){t.$set(e,"input",a)},expression:"items.input"}})})),a("div",{staticClass:"bottom"},[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.test(n,e.test)}}},[t._v("确认")]),a("span",{staticClass:"res"},[t._v("打印结果: "),a("span",{staticClass:"show"},[t._v(t._s(e.res))])])],1)],2)],1)})),0)])],1)],1)},s=[],r=a("5530"),i=a("1da1"),o=(a("96cf"),a("159b"),a("8a43")),c={computed:{},mounted:function(){console.log(this.$DApp),this.init()},methods:{skip:function(t){this.num=t,console.log(t);var e=document.getElementById("test"),a=document.getElementById(t);e.scrollTop=a.offsetTop-50},init:function(){var t=this;this.$DApp.Manager.initObj().then((function(e){t.Manager=e,console.log(t.Manager)})).catch((function(t){console.log(t)}))},dialog:function(t){0==t?this.$message({message:"请补充内容",type:"warning"}):1==t?this.$notify({title:"设置成功",message:"恭喜您已经设置成功",type:"success"}):2==t?this.$notify.error({title:"出现错误",message:"请查看控制台报错信息"}):this.$notify.error({title:"请求参数为空",message:"请输入合约地址"})},test:function(t,e){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,r,i,c,l,u,p,m,d,g,b,f,h,k,v,_,y,x,M;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=a.$utils.delBlank,0!=t){n.next=8;break}r=s(e[0].input),i=s(e[1].input),console.log(r,i),""===r||""===i?a.dialog(0):(c=a.$loading({lock:!0,text:"请求中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),a.Manager.setMember(r,i).then((function(t){console.log(t);var e=t.status;e&&(a.dialog(1),c.close(),a.items[0].res=e)})).catch((function(t){console.log(t),c.close(),a.dialog(2)}))),n.next=40;break;case 8:if(1!=t){n.next=22;break}if(l=s(e[0].input),console.log(l),""!==l){n.next=15;break}a.dialog(0),n.next=20;break;case 15:return n.next=17,a.Manager.getMember(l);case 17:u=n.sent,console.log(u),a.items[1].res=u;case 20:n.next=40;break;case 22:if(2!=t){n.next=31;break}e.forEach((function(t){t.input=s(t.input)})),p=e[0].input,m=e[1].input,d=e[2].input,d="true"===d,""===p||""===m||""===d?a.dialog(0):(g=a.$loading({lock:!0,text:"请求中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),console.log(p,m,d),a.Manager.setUserPermit(p,m,d).then((function(t){console.log(t);var e=t.status;e&&(a.dialog(1),g.close(),a.items[2].res=e)})).catch((function(t){console.log(t),g.close(),a.dialog(2)}))),n.next=40;break;case 31:if(3!=t){n.next=39;break}return n.next=34,a.Manager.getTimestamp();case 34:b=n.sent,console.log(b),a.items[3].res=b,n.next=40;break;case 39:4==t?(f=s(e[0].input),h=s(e[1].input),""===f||""===h?a.dialog(0):a.Manager.userPermit(f,h).then((function(e){console.log(e),a.items[t].res=e})).catch((function(e){console.log(e),a.items[t].res="fail",a.dialog(2)}))):(k=o["a"].CarfMineAddress,v=o["a"].CardAddress,_=o["a"].SlotAddress,y=o["a"].ManagerAddress,x=[],M={},M={contract_name:"cardMine",contract_address:k},x.push(M),M={contract_name:"card",contract_address:v},x.push(M),M={contract_name:"slot",contract_address:_},x.push(M),M={contract_name:"manager",contract_address:y},x.push(M),console.log(x),a.items[t].res=x,a.$req.updateAddress(x).then((function(t){console.log(t),a.dialog(1)})).catch((function(t){console.log(t)})));case 40:case"end":return n.stop()}}),n)})))()},nav:function(){this.$router.push("")}},data:function(){return{Manager:{},num:0,items:[{res:"",tit:"1.设置合约地址",tips:["请求合约名: manager","请求方法: setMember","请求方式: SEND"],tableData:[{name:"name",type:"string",state:"",remark:"\tcard,package,token,cashier,slot,cardMine,cardInvitation"},{name:"member",type:"address",state:"合约地址",remark:""}],test:[{place:"name",input:""},{place:"member",input:""}]},{res:"",tit:"2.获取合约地址",tips:["请求合约名: manager","请求方法: members","请求方式: call"],tableData:[{name:"name",type:"string",state:"",remark:"card,package,token,cashier,slot,cardMine,cardInvitation"}],test:[{place:"name",input:""}]},{res:"",tit:"3. 设置用户的权限",tips:["请求合约名: manager","请求方法: setUserPermit","请求方式: SEND"],tableData:[{name:"user",type:"address",state:"用户钱包地址",remark:""},{name:"permit",type:"string",state:"",remark:"config,admin"},{name:"enable",type:"bool",state:"",remark:"默认：true"}],test:[{place:"user",input:""},{place:"permit",input:""},{place:"enable",input:""}]},{res:"",tit:"4. 获取服务器当前时间戳",tips:["请求合约名: manager","请求方法: getTimestamp","请求方式: call"],tableData:[],test:[]},{res:"",tit:"5. 获取用户的权限",tips:["请求合约名: manager","请求方法: userPermits","请求方式: call"],tableData:[{name:"user",type:"address",state:"用户钱包地址",remark:""},{name:"permit",type:"string",state:"",remark:"config,admin"}],test:[{place:"user",input:""},{place:"permit",input:""}]},{res:"",tit:"6. 更新合约地址写入数据库",tips:["请求: http","方法: axios","方式: get"],tableData:[{name:"",type:"",state:"地址更改后点击下方确认按钮",remark:"自动获取configabi的地址"}],test:[]}]}},components:{}},l=Object(r["a"])({},c),u=l,p=(a("ba2a"),a("2877")),m=Object(p["a"])(u,n,s,!1,null,"68835b4c",null);e["default"]=m.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c914ac38"],{3453:function(t,e,n){"use strict";n("a565")},5680:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index"},[n("el-container",[n("el-aside",{attrs:{width:"215px"}},[n("div",[t._v("功能列表")]),t._l(t.items,(function(e,s){return n("el-link",{key:s,class:t.num==s?"act":"",attrs:{underline:!1},nativeOn:{click:function(e){return t.skip(s)}}},[t._v(" "+t._s(s+1)+"."+t._s(e.tit)+" "+t._s(e.tips[1].split(":")[1])+" ")])}))],2),n("el-main",{attrs:{id:"test"}},[n("div",{staticClass:"test"},t._l(t.items,(function(e,s){return n("div",{key:s,staticClass:"item",attrs:{id:s}},[n("h2",[t._v(" "+t._s(s+1)+"."+t._s(e.tit))]),n("div",{staticClass:"tip"},t._l(e.tips,(function(e,s){return n("span",{key:s},[t._v(t._s(e))])})),0),n("p",[t._v("请求参数")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[n("el-table-column",{attrs:{prop:"name",label:"参数名",width:"180"}}),n("el-table-column",{attrs:{prop:"type",label:"参数类型",width:"180"}}),n("el-table-column",{attrs:{prop:"state",label:"中文说明"}}),n("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1),n("h3",[t._v("发送请求")]),n("div",[t._l(e.test,(function(e,s){return n("el-input",{key:s,attrs:{placeholder:e.place},model:{value:e.input,callback:function(n){t.$set(e,"input",n)},expression:"items.input"}})})),n("div",{staticClass:"bottom"},[n("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.test(s,e.test)}}},[t._v("确认")]),n("span",{staticClass:"res"},[t._v("打印结果: "),n("span",{staticClass:"show"},[t._v(t._s(e.res))])])],1)],2)],1)})),0)])],1)],1)},a=[],i=n("5530"),r=n("1da1"),o=(n("4de4"),n("ac1f"),n("5319"),n("d3b7"),n("25f0"),n("1276"),n("159b"),n("3ca3"),n("ddb0"),n("96cf"),{computed:{},mounted:function(){console.log(this.$DApp),this.init()},methods:{skip:function(t){this.num=t,console.log(t);var e=document.getElementById("test"),n=document.getElementById(t);e.scrollTop=n.offsetTop-50},init:function(){var t=this;this.$DApp.Airdrop.init().then((function(e){t.Airdrop=e,t.web3=e.web3,console.log(t.Airdrop)})).catch((function(t){console.log(t)}))},dialog:function(t){0==t?this.$message({message:"请补充内容",type:"warning"}):1==t?this.$notify({title:"设置成功",message:"恭喜您已经设置成功",type:"success"}):2==t&&this.$notify.error({title:"出现错误",message:"请查看控制台报错信息"})},isAccount:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.web3,n.prev=1,n.next=4,s.eth.getCode(t);case 4:a=n.sent,console.log(a),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},delArrBlank:function(t){var e=this;return t=t.filter((function(t){if(t=t.replace(/\s*/g,""),""!==t)return e.isAccount(t),t})),t},fromWei:function(t,e){return new Promise((function(n,s){t=e.utils.fromWei(t.toString()),n(t)}))},test:function(t,e){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var a,i,r,o,l,c,u,p,d,g,f,m,h,b,k,v,A;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(n.$utils.delBlank,0!=t){s.next=7;break}a=e[0].input,console.log(a),""===a?n.dialog(0):(i=n.$loading({lock:!0,text:"请求中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n.Airdrop.setManager(a).then((function(e){var s=e.status;s?(n.dialog(1),i.close(),n.items[t].res=s):(i.close(),n.dialog(2))})).catch((function(e){n.items[t].res="false",console.log(e),i.close(),n.dialog(2)}))),s.next=65;break;case 7:if(1!=t){s.next=21;break}return s.prev=8,s.next=11,n.Airdrop.manager();case 11:r=s.sent,console.log(r),n.items[t].res=r,s.next=19;break;case 16:s.prev=16,s.t0=s["catch"](8),console.log(s.t0);case 19:s.next=65;break;case 21:if(2!=t){s.next=31;break}if(o=e[0].input,l=e[1].input,c=e[2].input,o=o.replace(/[\uff0c]/g,","),l=l.replace(/[\uff0c]/g,","),c=c.replace(/[\uff0c]/g,","),""===o||""===l||""===c)n.dialog(0);else{if(o=o.split(","),o=n.delArrBlank(o),l=l.split(","),c=c.split(","),l=n.delArrBlank(l),c=n.delArrBlank(c),1==l.length)for(u=0;u<o.length;u++)l[u]=l[0];if(1==c.length)for(p=0;p<o.length;p++)c[p]=c[0];console.log(o,l,c),n.loading=n.$loading({lock:!0,text:"请求中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n.Airdrop.airdrop(o,l,c).then((function(e){console.log(e);var s=e.status;s?(n.dialog(1),n.loading.close(),n.items[t].res=s):(n.items[t].res=e,n.loading.close(),n.dialog(2))})).catch((function(e){n.items[t].res=e,console.log(e),n.loading.close(),n.dialog(2)}))}s.next=65;break;case 31:if(3!=t){s.next=38;break}d=e[0].input,console.log(d),console.log(d),""===d?n.dialog(0):(g=[],d=d.split(","),d.forEach((function(t){t=n.$utils.web3Utils.convertUnit(t,n.Airdrop.web3),g.push(t)})),Promise.all(g).then((function(e){d=e,console.log(d);var s=n.$loading({lock:!0,text:"请求中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});n.Airdrop.setRarityWeights(d).then((function(e){var a=e.status;a?(n.dialog(1),s.close(),n.items[t].res=a):(s.close(),n.dialog(2))})).catch((function(e){n.items[t].res="false",console.log(e),s.close(),n.dialog(2)}))}))),s.next=65;break;case 38:if(4!=t){s.next=44;break}f=e[0].input,console.log(f),""===f?n.dialog(0):n.Airdrop.getRarityWeights(f).then((function(e){console.log(e);var s=[];e.forEach((function(t){var e=n.fromWei(t,n.Airdrop.web3);s.push(e)})),Promise.all(s).then((function(e){console.log(e),n.items[t].res=e})).catch((function(t){console.log(t)}))})).catch((function(e){n.items[t].res="false",console.log(e)})),s.next=65;break;case 44:if(5!=t){s.next=52;break}m=e[0].input,h=e[1].input,m=m.split(","),console.log(m),""===m?n.dialog(0):(b=n.$loading({lock:!0,text:"请求中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n.Airdrop.setCardTypes(m,h).then((function(e){var s=e.status;s?(n.dialog(1),b.close(),n.items[t].res=s):(b.close(),n.dialog(2))})).catch((function(e){n.items[t].res="false",console.log(e),b.close(),n.dialog(2)}))),s.next=65;break;case 52:if(6!=t){s.next=59;break}k=e[0].input,k=k.split(","),console.log(k),""===k?n.dialog(0):(v=n.$loading({lock:!0,text:"请求中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n.Airdrop.setRgradeWeights(k).then((function(e){var s=e.status;s?(n.dialog(1),v.close(),n.items[t].res=s):(v.close(),n.dialog(2))})).catch((function(e){n.items[t].res="false",console.log(e),v.close(),n.dialog(2)}))),s.next=65;break;case 59:if(7!=t){s.next=65;break}return s.next=62,n.Airdrop.getRgradeWeights();case 62:A=s.sent,console.log(A),n.items[t].res=A;case 65:case"end":return s.stop()}}),s,null,[[8,16]])})))()},nav:function(){this.$router.push("")}},data:function(){return{web3:{},num:0,Airdrop:{},items:[{res:"",tit:"设置管理员合约地址",tips:["请求合约名: Airdrop","请求方法: setManager","请求方式: send"],tableData:[{name:"addr",type:"address",state:"输入manager合约地址",remark:""}],test:[{place:"addr",input:""}]},{res:"",tit:"获取合约管理员地址",tips:["请求合约名: Airdrop","请求方法: manager","请求方式: call"],tableData:[],test:[]},{res:"",tit:"空投卡包给用户",tips:["请求合约名: Airdrop","请求方法: airdrop","请求方式: send"],tableData:[{name:"tos ",type:"address[]",state:"账号数组",remark:"用户的账号地址"},{name:"tokenAmounts ",type:"uint256[]",state:"卡内质押资金量",remark:"全设为0(相同数字写1个即可)"},{name:"rarities ",type:"uint256[]",state:"卡的品质",remark:"全设为0(相同数字写1个即可)"}],test:[{place:"tos",input:""},{place:"tokenAmounts",input:""},{place:"rarities",input:""}]},{res:"",tit:"设置多个背包卡片品质等级的概率",tips:["请求合约名: Airdrop","请求方法: setRarityWeights","请求方式: send"],tableData:[{name:"weights",type:"uint256[]",state:"多个使用 ， 隔开",remark:""}],test:[{place:"weights",input:""}]},{res:"",tit:"获取品质权重数组",tips:["请求合约名: Airdrop","请求方法: getRarityWeights","请求方式: call"],tableData:[{name:"id",type:"uint256",state:"",remark:"暂时无用，任意整数值"}],test:[{place:"id",input:""}]},{res:"",tit:"设置多个卡片类型",tips:["请求合约名: Airdrop","请求方法: setCardTypes","请求方式: send"],tableData:[{name:"nums",type:"uint16[]",state:"多个使用 ，隔开",remark:"参数不确定"},{name:"rarity",type:"uint16",state:"",remark:"稀有度：1(R),2(SR),3(SSR)"}],test:[{place:"nums",input:""},{place:"rarity",input:""}]},{res:"",tit:"设置R等级对应权重",tips:["请求合约名: Airdrop","请求方法: setRgradeWeights","请求方式: send"],tableData:[{name:"weights",type:"uint256[]",state:"R级别权重数组",remark:"[80,18,2]"}],test:[{place:"weights[]",input:""}]},{res:"",tit:"获取R等级权重数组",tips:["请求合约名: Airdrop","请求方法: getRgradeWeights","请求方式: call"],tableData:[],test:[]}]}},components:{}}),l=Object(i["a"])({},o),c=l,u=(n("3453"),n("2877")),p=Object(u["a"])(c,s,a,!1,null,"3c506a37",null);e["default"]=p.exports},a565:function(t,e,n){}}]);